diff a/test/CMakeLists.txt b/test/CMakeLists.txt	(rejected hunks)
@@ -20,19 +20,31 @@ cm_test_link_libraries(${CMAKE_WORKSPACE_NAME}_${CURRENT_PROJECT_NAME}
                        ${Boost_LIBRARIES})
 
 macro(define_math_test name)
-    cm_test(NAME math_${name}_test SOURCES ${name}.cpp)
+    set(test_name "math_${name}_test")
 
-    target_include_directories(math_${name}_test PRIVATE
+    set(additional_args "")
+    if(ENABLE_JUNIT_TEST_OUTPUT)
+        set(TEST_RESULTS_DIR "${CMAKE_CURRENT_BINARY_DIR}/junit_results")
+        set(TEST_LOGS_DIR "${TEST_RESULTS_DIR}/logs")
+        file(MAKE_DIRECTORY ${TEST_LOGS_DIR})
+
+        set(additional_args "--log_format=JUNIT"
+                            "--log_sink=${TEST_LOGS_DIR}/${test_name}.xml")
+    endif()
+
+    cm_test(NAME ${test_name} SOURCES ${name}.cpp ARGS ${additional_args})
+
+    target_include_directories(${test_name} PRIVATE
                                "$<BUILD_INTERFACE:${CMAKE_CURRENT_SOURCE_DIR}/include>"
                                "$<BUILD_INTERFACE:${CMAKE_BINARY_DIR}/include>"
 
                                ${Boost_INCLUDE_DIRS})
 
-    set_target_properties(math_${name}_test PROPERTIES CXX_STANDARD 17)
+    set_target_properties(${test_name} PROPERTIES CXX_STANDARD 17)
 
     get_target_property(target_type Boost::unit_test_framework TYPE)
     if(target_type STREQUAL "SHARED_LIB")
-        target_compile_definitions(math_${name}_test PRIVATE BOOST_TEST_DYN_LINK)
+        target_compile_definitions(${test_name} PRIVATE BOOST_TEST_DYN_LINK)
     elseif(target_type STREQUAL "STATIC_LIB")
 
     endif()
